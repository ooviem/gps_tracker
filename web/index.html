<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="JackControllerApp">

<head>
    <link href="assets/angular-material/angular-material.css" rel="stylesheet" />
    <link href="assets/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <link href="app/app.css" rel="stylesheet" />
    <script src="assets/angular/angular.js"></script>
    <script src="assets/angular-animate/angular-animate.min.js"></script>
    <script src="assets/angular-aria/angular-aria.min.js"></script>
    <script src="assets/angular-material/angular-material.js"></script>
    <script src="app/app.js"></script>

    <title>My Controller</title>
</head>

<body ng-controller="JackController as ctrlMe">
    <div class="container">
        <div class="monitor row">
        <div id="map" style="height: 400px;"></div>
        <script>
          var map;
          var marker;
          function initMap() {
            var uluru = {lat: -25.363, lng: 131.044};
            map = new google.maps.Map(document.getElementById('map'), {
              zoom: 4,
              center: uluru
            });
            marker = new google.maps.Marker({
              position: uluru,
              map: map
            });
          }
          setTimeout(function() {

            var lat = window.lat.replace('.','');
            var lng = window.lng.replace('.','');
            lat = lat.length < 9 ? "0"+lat : lat;
            lng = lng.length < 9 ? "0"+lng : lng;

            lat = lat.substring(0,3) + "." + lat.substring(3) ;
            lng = lng.substring(0,3) + "." + lng.substring(3) ;

            var newLatLng = new google.maps.LatLng(window.lat, window.lng);
            marker.setPosition(newLatLng);

          }, 2000);

        </script>
        <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAoIlmrJmGoZOispoiDRB01L6y_NjOyl2E&callback=initMap">
        </script>   
        </div>
    </div>
</body>

</html>
